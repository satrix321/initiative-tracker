(this["webpackJsonpinitiative-tracker"]=this["webpackJsonpinitiative-tracker"]||[]).push([[0],{13:function(t,e,n){},16:function(t,e,n){t.exports=n(39)},21:function(t,e,n){},22:function(t,e,n){},23:function(t,e,n){},36:function(t,e,n){},37:function(t,e,n){},38:function(t,e,n){},39:function(t,e,n){"use strict";n.r(e);var i=n(1),a=n.n(i),r=n(10),s=n.n(r),c=(n(21),n(2)),o=n(3),l=n(5),d=n(4),u=n(6),h=n(9),v=n(8),m=(n(22),n(7)),E=n(15),p=(n(23),n(14)),y=n.n(p),b=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).id=void 0,n.controlGroup=void 0,n.input=void 0,n.id="input_".concat(y()()),n}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("span",{className:"control-group"},a.a.createElement("label",{htmlFor:this.id,className:"label"},this.props.label),a.a.createElement("input",{id:this.id,className:"input ".concat(this.props.fullWidth?"input--is-full-width":""),type:this.props.type||"text",defaultValue:this.props.defaultValue,value:this.props.value||("number"!==this.props.type||this.props.defaultValue?this.props.value:""),onChange:this.props.onChange,onFocus:this.focusInput,onBlur:this.blurInput}))}},{key:"componentDidMount",value:function(){this.controlGroup=s.a.findDOMNode(this),this.input=this.controlGroup.querySelector(".input")}},{key:"componentDidUpdate",value:function(){null!==this.props.value&&void 0!==this.props.value&&""!==this.props.value&&0!==this.props.value||this.input!==document.activeElement&&this.controlGroup.classList.remove("control-group--is-active","control-group--has-text")}},{key:"focusInput",value:function(t){t.target.parentElement.classList.add("control-group--is-active")}},{key:"blurInput",value:function(t){null!==t.target.value&&void 0!==t.target.value&&""!==t.target.value||!t.target.validity.valid?t.target.parentElement.classList.add("control-group--has-text"):t.target.parentElement.classList.remove("control-group--has-text"),t.target.parentElement.classList.remove("control-group--is-active"),t.target.validity.valid?t.target.parentElement.classList.remove("control-group--invalid"):t.target.parentElement.classList.add("control-group--invalid")}}]),e}(a.a.Component),f=(n(13),function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("button",{className:"button ".concat(this.props.icon?"button--icon":"","\n          ").concat(this.props.clicked?"button--is-clicked":"","\n          ").concat(this.props.secondary?"button--is-secondary":""),onClick:this.props.onClick},this.props.children)}}]),e}(a.a.Component)),k=(n(36),function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("span",{className:"button-group"},this.props.children)}}]),e}(a.a.Component)),g=(n(37),function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).state=void 0,n.activatorClick=function(){n.setState({active:!n.state.active})},n.state={active:!1},n}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"menu"},a.a.createElement("div",{className:"menu__activator"},a.a.createElement("button",{className:"button ".concat(this.props.activatorIcon?"button--icon":"","\n              ").concat(this.state.active?"button--is-clicked":"","\n              ").concat(this.props.activatorSecondary?"button--is-secondary":""),onClick:this.activatorClick},this.props.activatorContent)),a.a.createElement("div",{className:"menu__content ".concat(this.state.active?"menu__content--active":"")},this.props.children))}}]),e}(a.a.Component)),O=(n(38),function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{className:"menu-item ".concat(this.props.clicked?"menu-item--is-clicked":""),onClick:this.props.onClick},this.props.children)}}]),e}(a.a.Component)),j=function t(e,n,i,a){Object(c.a)(this,t),this.id=void 0,this.name=void 0,this.hp=void 0,this.initiative=void 0,this.isGunReady=void 0,this.editMode=void 0,this.id=e,this.name=n,this.hp=i,this.initiative=a,this.isGunReady=!1,this.editMode=!1},N=function(t){function e(t){var n;return Object(c.a)(this,e),(n=Object(l.a)(this,Object(d.a)(e).call(this,t))).idCounter=void 0,n.state=void 0,n.isGunReadyInitiative=50,n.addEntry=function(){if(n.state.addEntryName&&n.state.addEntryInitiative){var t=new j(n.idCounter,n.state.addEntryName,n.state.addEntryHp,n.state.addEntryInitiative),e=[].concat(Object(h.a)(n.state.entries),[t]);n.setState({entries:e,addEntryName:"",addEntryHp:"",addEntryInitiative:0}),n.idCounter++}},n.sortEntries=function(t){return t.length>0?Object(h.a)(t).sort((function(t,e){return e.initiative+(e.isGunReady?n.isGunReadyInitiative:0)-(t.initiative+(t.isGunReady?n.isGunReadyInitiative:0))})):t},n.handleTurn=function(){if(n.state.entries.length>0){var t=Object(h.a)(n.state.entries),e=t.shift();t.push(e),n.setState({entries:t})}},n.handleSort=function(){n.setState({entries:n.sortEntries(n.state.entries)})},n.handleClear=function(){n.setState({entries:[]})},n.idCounter=0,n.state={addEntryName:"",addEntryHp:"",addEntryInitiative:0,editEntryName:"",editEntryHp:"",editEntryInitiative:0,entries:[]},n.setAddEntryName=n.setAddEntryName.bind(Object(v.a)(n)),n.setAddEntryHp=n.setAddEntryHp.bind(Object(v.a)(n)),n.setAddEntryInitiative=n.setAddEntryInitiative.bind(Object(v.a)(n)),n.setEditEntryName=n.setEditEntryName.bind(Object(v.a)(n)),n.setEditEntryHp=n.setEditEntryHp.bind(Object(v.a)(n)),n.setEditEntryInitiative=n.setEditEntryInitiative.bind(Object(v.a)(n)),n}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){var t=this;return a.a.createElement("div",{className:"initiative-tracker"},a.a.createElement("div",{className:"initiative-tracker__header"},a.a.createElement("span",{className:"initiative-tracker__header-title"},"Initiative Tracker"),a.a.createElement(f,{onClick:this.handleTurn},"Turn"),a.a.createElement(f,{onClick:this.handleSort},"Sort"),a.a.createElement(f,{onClick:this.handleClear},"Clear")),a.a.createElement("div",{className:"initiative-tracker__body"},t.state.entries.length>0?a.a.createElement("table",{className:"initiative-tracker__table",cellPadding:"0"},a.a.createElement("thead",null,a.a.createElement("tr",null,a.a.createElement("th",{align:"left"},"Name"),a.a.createElement("th",{align:"left",className:"initiative-tracker__hp-header"},"HP"),a.a.createElement("th",{align:"left",className:"initiative-tracker__initiative-header"},"Initiative"),a.a.createElement("th",{className:"initiative-tracker__actions-header"},"Actions"))),t.renderEntries()):a.a.createElement("div",{className:"initiative-tracker__no-data"},"No Data")),a.a.createElement("div",{className:"initiative-tracker__footer"},a.a.createElement(b,{label:"Name",type:"text",value:this.state.addEntryName,onChange:this.setAddEntryName}),a.a.createElement(b,{label:"HP",type:"text",value:this.state.addEntryHp,onChange:this.setAddEntryHp}),a.a.createElement(b,{label:"Initiative",type:"number",value:this.state.addEntryInitiative,onChange:this.setAddEntryInitiative}),a.a.createElement(f,{icon:!0,onClick:this.addEntry},a.a.createElement(m.a,{size:"2em"}))))}},{key:"renderEntries",value:function(){var t=this;return a.a.createElement("tbody",null,this.state.entries.map((function(e){return a.a.createElement("tr",{key:e.id,"data-id":e.id,id:"entry_".concat(e.id)},a.a.createElement("td",null,e.editMode?a.a.createElement(b,{fullWidth:!0,type:"text",defaultValue:e.name,onChange:t.setEditEntryName}):e.name),a.a.createElement("td",null,e.editMode?a.a.createElement(b,{fullWidth:!0,type:"text",defaultValue:e.hp,onChange:t.setEditEntryHp}):e.hp),a.a.createElement("td",null,e.editMode?a.a.createElement(b,{fullWidth:!0,type:"number",defaultValue:e.initiative,onChange:t.setEditEntryInitiative}):e.isGunReady?"".concat(e.initiative," (+").concat(t.isGunReadyInitiative,")"):e.initiative),a.a.createElement("td",null,a.a.createElement("div",{className:"initiative-tracker__actions-container initiative-tracker__actions-container--desktop-only"},a.a.createElement(f,{icon:!0,secondary:!0,clicked:e.isGunReady,onClick:t.toggleGun.bind(t,e.id)},a.a.createElement(E.a,{size:"1.5em"})),a.a.createElement(k,null,a.a.createElement(f,{icon:!0,secondary:!0,onClick:t.moveEntryUp.bind(t,e.id)},a.a.createElement(m.c,null)),a.a.createElement(f,{icon:!0,secondary:!0,onClick:t.moveEntryDown.bind(t,e.id)},a.a.createElement(m.b,null))),a.a.createElement(f,{icon:!0,secondary:!0,clicked:e.editMode,onClick:t.toggleEditEntry.bind(t,e.id)},a.a.createElement(m.e,{size:"1.5em"})),a.a.createElement(f,{icon:!0,secondary:!0,onClick:t.removeEntry.bind(t,e.id)},a.a.createElement(m.d,{size:"2em"}))),a.a.createElement("div",{className:"initiative-tracker__actions-container initiative-tracker__actions-container--mobile-only"},a.a.createElement(k,null,a.a.createElement(f,{icon:!0,secondary:!0,onClick:t.moveEntryUp.bind(t,e.id)},a.a.createElement(m.c,null)),a.a.createElement(f,{icon:!0,secondary:!0,onClick:t.moveEntryDown.bind(t,e.id)},a.a.createElement(m.b,null))),a.a.createElement(g,{activatorIcon:!0,activatorSecondary:!0,activatorContent:a.a.createElement(m.b,{size:"1.5em"})},a.a.createElement(O,{onClick:t.toggleGun.bind(t,e.id),clicked:e.isGunReady},"Gun"),a.a.createElement(O,{onClick:t.toggleEditEntry.bind(t,e.id),clicked:e.editMode},"Edit"),a.a.createElement(O,{onClick:t.removeEntry.bind(t,e.id)},"Delete")))))})))}},{key:"setAddEntryName",value:function(t){this.setState({addEntryName:t.target.value})}},{key:"setAddEntryHp",value:function(t){this.setState({addEntryHp:t.target.value})}},{key:"setAddEntryInitiative",value:function(t){this.setState({addEntryInitiative:Number(t.target.value)})}},{key:"setEditEntryName",value:function(t){this.setState({editEntryName:t.target.value})}},{key:"setEditEntryHp",value:function(t){this.setState({editEntryHp:t.target.value})}},{key:"setEditEntryInitiative",value:function(t){this.setState({editEntryInitiative:Number(t.target.value)})}},{key:"toggleGun",value:function(t){var e=Object(h.a)(this.state.entries),n=e.find((function(e){return e.id===t}));n.isGunReady=!n.isGunReady,this.setState({entries:e})}},{key:"moveEntryUp",value:function(t){if(this.state.entries.length>=2){var e=Object(h.a)(this.state.entries),n=this.state.entries.findIndex((function(e){return e.id===t}));if(-1===n)return;if(0===n){var i=e.shift();e.push(i)}else{var a=n-1,r=e.splice(n,1);e.splice(a,0,r[0])}this.setState({entries:e})}}},{key:"moveEntryDown",value:function(t){if(this.state.entries.length>=2&&this.state.entries.length>=2){var e=Object(h.a)(this.state.entries),n=this.state.entries.findIndex((function(e){return e.id===t}));if(-1===n)return;if(n===this.state.entries.length-1){var i=e.pop();e.unshift(i)}else{var a=n+1,r=e.splice(a,1);e.splice(n,0,r[0])}this.setState({entries:e})}}},{key:"removeEntry",value:function(t){this.setState({entries:this.state.entries.filter((function(e){return e.id!==t}))})}},{key:"toggleEditEntry",value:function(t){var e=Object(h.a)(this.state.entries),n=e.find((function(e){return e.id===t}));n.editMode?(n.name=this.state.editEntryName,n.hp=this.state.editEntryHp,n.initiative=this.state.editEntryInitiative,n.editMode=!n.editMode,this.setState({entries:e})):(n.editMode=!n.editMode,this.setState({entries:e,editEntryName:n.name,editEntryHp:n.hp,editEntryInitiative:n.initiative}))}}]),e}(a.a.Component),C=function(t){function e(){return Object(c.a)(this,e),Object(l.a)(this,Object(d.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(o.a)(e,[{key:"render",value:function(){return a.a.createElement("div",{style:{maxWidth:700,margin:"auto"}},a.a.createElement(N,null))}}]),e}(a.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[16,1,2]]]);
//# sourceMappingURL=main.2ae7975a.chunk.js.map